<div class=" d-flex toggled" id="wrapper" data-ng-search-form="" data-runSearch="true">
  <div class="row">
    <div class="col-sm-10">
      <div class="new-filter">
        <a data-ng-click="visible=!visible;">
          <img data-ng-class="visible ? 'flipN': 'flipP'"
            data-ng-src="../../catalog/views/default/images/icons8-slider-30.png" alt="icon" />
        </a>

        <div class="sb_container_outer">
          <div class="input-group gn-any-search-input">
            <input type="search" class="form-control input-md" id="gn-any-field" data-ng-model="searchObj.params.any"
              data-ng-model-options="modelOptionsForm" placeholder="{{'anyPlaceHolder' | translate}}"
              data-typeahead="address for address in getAnySuggestions($viewValue)" data-typeahead-loading="anyLoading"
              class="form-control" data-typeahead-min-length="1" data-typeahead-focus-first="false" />
            <button type="button" class="btn-md btn-adv" data-toggle="collapse" data-target="#adv-1">
              <label>Advanced</label>
            </button>
            <button type="button" data-ng-click="triggerSearch()" class="btn btn-md">
              &nbsp;<i class="fa fa-search"></i>&nbsp;
            </button>&nbsp;
            <button type="button" data-ng-click="resetSearch(searchObj.defaultParams); resetSearch(searchObj.params)" class="btn btn-md"
              title="Clear current search query, filters and sorts.">
              &nbsp;<i class="fa fa-times"></i>&nbsp;
            </button>
          </div>
        </div>
        <div id="adv-1" class="collapse">
          <div class="row">
            <div data-ng-include="'../../catalog/views/default/templates/AdvSearchForm.html'" />
          </div>
        </div>

      </div>

      <div class="content-wrapper">
        <div data-ng-show="searchResults.records.length > 0" class="bg-light border-right menu" ng-class="{'is-visible':visible}">
          <div data-gn-facet-dimension-list="searchResults.dimension"
            data-params="searchObj.params" data-facet-type="facetsSummaryType" data-current-facets="currentFacets">
          </div>
        </div>

        <div id="page-content-wrapper">
          <div class="container-fluid">
            <div class="row result-selection">
              <div class="col-sm-3">
                <div data-gn-selection-widget="" data-results="searchResults"></div>
              </div>
              <div class="col-sm-3">
                <button ng-repeat="tpl in viewTemplates track by $index" class="list-btn"
                  data-ng-class="{'active': tpl.tooltip == states.activeItem}" data-ng-click="changeView($index)">
                  <i class="fa {{tpl.icon}}"></i> {{tpl.tooltip}}</button>
              </div>
              <div class="col-sm-6">
                <div data-gn-pagination="paginationInfo" data-hits-values="searchObj.hitsperpageValues"
                  data-enable-hot-keys="" data-enable-events=""></div>
                <div data-sortby-combo="" data-params="searchObj.params" data-gn-sortby-values="searchObj.sortbyValues">
                </div>
              </div>
            </div>

            <div class="search-result-feedback text-center" ng-if="!searching && searchResults.count == 0">
              <p>No search results found...</p>
            </div>
            <br>
            <div data-ng-if="states.activeItem == 'List'">
              <ul class="default-list-group gn-resultview">
                <li class="list-group-item" data-ng-repeat="md in searchResults.records" gn-displayextent-onhover=""
                  gn-zoomto-onclick gn-fix-mdlinks="">
                  <div class="items">
                    <div class="pull-right">
                      <gn-links-btn></gn-links-btn>
                    </div>

                    <div class="gn-md-title">
                      <input gn-selection-md type="checkbox" ng-model="md['geonet:info'].selected"
                        ng-change="change()" />
                      <h3>
                        <!-- Icon for types -->
                        <a href="" gn-metadata-open="md" gn-metadata-open-selector=".gn-resultview"
                          title="{{md.title || md.defaultTitle}}">
                          <span class="fa gn-icon-{{md.type[0]}}"></span>
                          {{md.title || md.defaultTitle}}</a>
                      </h3>
                    </div>
                    <div data-ng-if="md.mdStatus > 0 && isIntranet"
                        class="gn-status gn-status-{{ md.getWorkFlowStatus() }}-{{ md['geonet:info'].isPublishedToAll === 'true' ? 'External' : 'Internal' }}"> {{ md['geonet:info'].isPublishedToAll === "true" ? "External" : "Internal" }} - <span>{{ md.getWorkFlowStatus() }} </span>
                   </div>
                    <div>
                      <p class="text-justify" dd-text-collapse dd-text-collapse-max-length="350"
                        dd-text-collapse-text="{{md.abstract | replace: '&lt;p&gt;':' '}}"></p>
                    </div>

                    <div class="gn-md-info">
                      <div>
                        <span>eCat ID:</span> {{ md.eCatId }}
                      </div>
                      <div data-ng-if="isIntranet && md.owner > 1">
                        <span>Owner: </span> {{ md.getOwnername() }}
                      </div>
                      <!--<div>
                                <span>Last update:</span> {{ md['geonet:info'].changeDate | date:"yyyy-MM-dd" }}
                              </div>-->
                    </div>

                    <div class="gn-md-links clearfix">
                      <div class="btn-group" ng-if="::links.length > 0">
                        <button type="button" class="btn btn-success dropdown-toggle btn-xs" data-toggle="dropdown">
                          <span class="fa fa-link"></span>
                          {{::links.length}}
                          <ng-pluralize count="::links.length" when="{'one': 'link', 'other': 'links'}"></ng-pluralize>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li ng-repeat="link in ::links">
                            <a href="{{::link.url}}" target="_blank">{{::link.desc}}</a></li>
                        </ul>
                      </div>

                      <div class="btn-group" ng-if="::downloads.length > 0">
                        <button type="button" class="btn btn-success dropdown-toggle btn-xs" data-toggle="dropdown">
                          <span class="fa fa-download"></span>
                          {{::downloads.length}}
                          <ng-pluralize count="::downloads.length" when="{'one': 'download', 'other': 'downloads'}">
                          </ng-pluralize>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li ng-repeat="link in ::downloads">
                            <a href="{{::link.url}}" download="{{::link.desc}}">
                              <span class="fa fa-file-zip-o"></span>
                              {{link.desc || (link.name + ' - ' + link.contentType) }} </a></li>
                        </ul>
                      </div>

                      <div class="pull-right" ng-if="::md.category.length > 0">
                        <i data-ng-repeat="cat in ::md.category" class="fa" data-ng-class="catIcons[cat]"
                          title="{{cat}}">&nbsp;</i>
                      </div>
                    </div>
                    <div class="gn-result-list-sp"></div>
                  </div>

                </li>
              </ul>
            </div>
            <div data-ng-if="states.activeItem == 'Title'">
              <ul class="default-list-group gn-resultview">
                <li class="list-group-item" data-ng-repeat="md in searchResults.records" gn-displayextent-onhover=""
                  gn-zoomto-onclick gn-fix-mdlinks="">
                  <div class="gn-md-title">
                    <input gn-selection-md type="checkbox" ng-model="md['geonet:info'].selected" ng-change="change()" />
                    <h3>
                      <a href="" gn-metadata-open="md" gn-metadata-open-selector=".gn-resultview"
                        title="{{md.title || md.defaultTitle}}">
                        <span class="fa gn-icon-{{md.type[0]}}"></span>
                        {{md.title || md.defaultTitle}}</a>
                    </h3>
                  </div>
                  <div data-ng-if="md.mdStatus > 0 && isIntranet"
                      class="gn-status gn-status-{{ md.getWorkFlowStatus() }}-{{ md['geonet:info'].isPublishedToAll === 'true' ? 'External' : 'Internal' }}"> {{ md['geonet:info'].isPublishedToAll === "true" ? "External" : "Internal" }} - <span>{{ md.getWorkFlowStatus() }} </span>
                 </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="col-sm-2">
      <div class="user-menu">
        <div class="user-menu-item" data-ng-show="authenticated && user.isEditorOrMore()">
          <a data-gn-active-tb-item="catalog.edit" title="Manage my records">
            <i class="fa fa-plus"></i>
            <span><label>MANAGE</label></span>
          </a>
        </div>
        <div class="user-menu-item" data-ng-show="user.isUserAdminOrMore()">
          <a data-gn-active-tb-item="admin.console" title="{{'adminConsole' | translate}}">
            <i class="fa fa-th"></i>
            <span><label>ADMIN CONSOLE</label></span>
          </a>
        </div>
      </div>
    </div>
  </div>

</div>
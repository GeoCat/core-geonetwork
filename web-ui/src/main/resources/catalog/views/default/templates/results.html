<div class="d-flex toggled" id="wrapper" data-ng-search-form="" data-runSearch="true">
  <div class="new-filter">
    <a data-ng-click="visible=!visible;">
      <img data-ng-class="visible ? 'flipN': 'flipP'"
        data-ng-src="../../catalog/views/default/images/icons8-slider-30.png" alt="icon" />
    </a>

    <div class="sb_container_outer">
      <div class="input-group gn-any-search-input">
        <input type="search" class="form-control input-md" id="gn-any-field" data-ng-model="searchObj.params.any"
          data-ng-model-options="modelOptionsForm" placeholder="{{'anyPlaceHolder' | translate}}"
          data-typeahead="address for address in getAnySuggestions($viewValue)" data-typeahead-loading="anyLoading"
          class="form-control" data-typeahead-min-length="1" data-typeahead-focus-first="false" />
        <button type="button" class="btn-md btn-adv" data-toggle="collapse" data-target="#adv-1">
          <label>Advanced</label>
        </button>
        <button type="button" data-ng-click="triggerSearch()" class="btn btn-md">
          &nbsp;<i class="fa fa-search"></i>&nbsp;
        </button>&nbsp;
        <button type="button" data-ng-click="resetSearch(searchObj.defaultParams)" class="btn btn-md"
          title="Clear current search query, filters and sorts.">
          &nbsp;<i class="fa fa-times"></i>&nbsp;
        </button>
      </div>
    </div>
    <div id="adv-1" class="collapse">
      <div class="row">
        <div class="col-md-8 col-sm-12">
          <form>
            <h4>Advanced Search</h4>
            <div class="input-group gn-search-group">
              <div class="col-md-12">
                <h6>Text Search</h6>
                <div class="row">
                  <div class="search-input">
                    <label class="col-sm-1 control-label" data-translate="">title</label>
                    <div class="col-sm-11">
                      <input type="search" value="" class="form-control" data-ng-model="searchObj.params.title" />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="search-input">
                    <label class="col-sm-1 control-label" data-translate="">ecatId</label>
                    <div class="col-sm-5">
                      <input type="search" value="" class="form-control" data-ng-model="searchObj.params.eCatId" />
                    </div>
                    <label class="col-sm-1 control-label" data-translate="">keyword</label>
                    <div class="col-sm-5">
                      <input type="search" value="" class="form-control" data-ng-model="searchObj.params.keyword" />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <h6>Authors</h6>
                  <div class="search-input">
                    <label class="col-sm-1 control-label" data-translate="">author</label>
                    <div class="col-sm-5">
                      <input type="search" value="" class="form-control" data-ng-model="searchObj.params.author" />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="search-input">
                    <label class="col-sm-1 control-label" data-translate="">owner</label>
                    <div class="col-sm-5">
                      <input type="search" value="" class="form-control" gn-typeahead="userOptions"
                        gn-values="searchObj.params._owner" />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <h6>Other Details</h6>
                  <div class="search-input">
                    <label class="col-sm-1 control-label" data-translate="">_status</label>
                    <div class="col-sm-5">
                      <select class="form-control" data-ng-model="searchObj.params._status">
                        <option ng-repeat="status in statusOptions" value="{{status.id}}">{{status.label.eng}}
                        </option>
                      </select>
                    </div>
                    <label class="col-sm-1 control-label" data-translate="">kind</label>
                    <div class="col-sm-5">
                      <select class="form-control" data-ng-model="searchObj.params._isTemplate">
                        <option ng-repeat="type in typeOptions" value="{{type.id}}">{{type.label}}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <h6>Date Search</h6>
                  <div class="search-input">
                    <div class="col-sm-6">
                      <div data-gn-period-chooser="resourcesCreatedTheLast"
                        data-date-from="searchObj.params.creationDateFrom"
                        data-date-to="searchObj.params.creationDateTo">
                      </div>
                      <div data-gn-period-chooser="recordsCreatedTheLast" data-date-from="searchObj.params.dateFrom"
                        data-date-to="searchObj.params.dateTo">
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div data-gn-period-chooser="temporalExtentPeriod"
                        data-date-from="searchObj.params.creationDateFrom"
                        data-date-to="searchObj.params.creationDateTo">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="search-btn">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-primary btn-md">
                        &nbsp;Search&nbsp;
                      </button>
                      <button type="button" class="btn btn-primary btn-md" data-toggle="collapse" data-target="#adv-1">
                        &nbsp;Close&nbsp;
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-md-4 col-sm-12">
          <h4>Advanced Search Tips</h4>
          <br>
          <h6>Title / Keywords / eCatIDs</h6>
          <p>
            <i>Title:</i> Search phrase results records that contain any word within the title .<br>
            <i>Keywords:</i> Provide minimum 3 characters to show predictive Keywords.<br>
            <i>eCatIDs:</i> For more eCat records, provide eCatIDs seperated by comma.<br>
          </p>
          <br>
          <h6>Author / Owner</h6>
          <p>
            <i>Author:</i> Search phrase entered in this field will run a search across Authors within Data and
            Publications.
            Typically reference list entries and in-text citations do not include the authors’ academic credentials or
            professional titles.
            For example, if a publication is written by Samantha T. Smith, PhD, then the reference entry refers to
            Smith, S. T.,
            <i>Owner:</i> This predictive search provide the owner who created the record. Once the record is
            published,
          </p>
          <br>
          <h6>Status / Kind</h6>
          <p>
            This search is only for internal GA users.<br>
            <i>Status:</i> Provides the workflow status of metadata.<br>
            <i>Owner:</i> This predictive search provide the owner who created the record. Once the record is
            published,
            ownership changes to Admin.<br>
            <i>Kind:</i> This option provides the user to select between metadata and template.<br>
          </p>
          <h6>Created and Publication Date</h6>
          <p>To search for a Recrods created or Published within a date range choose the ‘Date Range’ option.
            There are also another ways to specify a date range: Today/Yesterday/This week/This month/Last 3
            months/Last 6 months/This year or by specifying start and end dates.</p>
        </div>
        <br>
      </div>
    </div>

    <div class="user-menu">
      <div class="user-menu-item" data-ng-show="authenticated && user.isEditorOrMore()">
        <a data-gn-active-tb-item="catalog.edit" title="Manage my records">
          <i class="fa fa-plus"></i>
          <span><label>MANAGE</label></span>
        </a>
      </div>
      <div class="user-menu-item" data-ng-show="user.isUserAdminOrMore()">
        <a data-gn-active-tb-item="admin.console" title="{{'adminConsole' | translate}}">
          <i class="fa fa-th"></i>
          <span><label>ADMIN CONSOLE</label></span>
        </a>
      </div>

    </div>
  </div>



  <div class="content-wrapper">
    <div class="bg-light border-right menu" ng-class="{'is-visible':visible}">

      <div data-ng-show="searchResults.records.length > 0" data-gn-facet-list="searchResults.facet"
        data-params="searchObj.params" data-facet-config="facetsSummaryType" data-current-facets="currentFacets">
      </div>

      <div data-ng-show="searchResults.records.length > 0" data-gn-facet-dimension-list="searchResults.dimension"
        data-params="searchObj.params" data-facet-type="facetsSummaryType" data-current-facets="currentFacets">
      </div>

    </div>



    <div id="page-content-wrapper">

      <div class="container-fluid">

        <div class="row result-selection">
          <div class="col-sm-3">
            <div data-gn-selection-widget="" data-results="searchResults"></div>
          </div>
          <div class="col-sm-3">
            <button ng-repeat="tpl in viewTemplates track by $index" class="list-btn"
              data-ng-class="{'active': tpl.tooltip == states.activeItem}" data-ng-click="changeView($index)">
              <i class="fa {{tpl.icon}}"></i> {{tpl.tooltip}}</button>
          </div>
          <div class="col-sm-6">
            <div data-gn-pagination="paginationInfo" data-hits-values="searchObj.hitsperpageValues"
              data-enable-hot-keys="" data-enable-events=""></div>
            <div data-sortby-combo="" data-params="searchObj.params" data-gn-sortby-values="searchObj.sortbyValues">
            </div>
          </div>
        </div>

        <div class="search-result-feedback text-center" ng-if="!searching && searchResults.count == 0">
          <p>No search results found...</p>
        </div>

        <br>

        <div data-ng-if="states.activeItem == 'List'">
          <ul class="default-list-group gn-resultview">
            <li class="list-group-item" data-ng-repeat="md in searchResults.records" gn-displayextent-onhover=""
              gn-zoomto-onclick gn-fix-mdlinks="">
              <div class="items">
                <div class="pull-right">
                  <gn-links-btn></gn-links-btn>
                </div>

                <!-- Thumbnail -->
                <div class="pull-right gn-md-thumbnail" data-ng-if="md.getThumbnails().list[0].url">
                  <span ng-if="!md.getThumbnails().small" translate>noThumbnail</span>
                  <img ng-src="{{md.getThumbnails().small}}" class="img-thumbnail" ng-if="md.getThumbnails().small" />
                </div>

                <div class="gn-md-title">
                  <input gn-selection-md type="checkbox" ng-model="md['geonet:info'].selected" ng-change="change()" />
                  <h3>
                    <!-- Icon for types -->
                    <a href="" gn-metadata-open="md" gn-metadata-open-selector=".gn-resultview"
                      title="{{md.title || md.defaultTitle}}">
                      <span class="fa gn-icon-{{md.type[0]}}"></span>
                      {{md.title || md.defaultTitle}}</a>
                  </h3>
                </div>
                <div>
                  <p class="text-justify" dd-text-collapse dd-text-collapse-max-length="350"
                    dd-text-collapse-text="{{md.abstract || md.defaultAbstract}}"></p>
                </div>

                <div class="gn-md-info">
                  <div>
                    <span>eCat ID:</span> {{ md.eCatId }}
                  </div>
                  <div data-ng-if="isIntranet && md.owner > 1">
                    <span>Owner: </span> {{ md.getOwnername() }}
                  </div>
                  <!--<div>
                    <span>Last update:</span> {{ md['geonet:info'].changeDate | date:"yyyy-MM-dd" }}
                  </div>-->
                </div>

                <div class="gn-md-links clearfix">
                  <div class="btn-group" ng-if="::links.length > 0">
                    <button type="button" class="btn btn-success dropdown-toggle btn-xs" data-toggle="dropdown">
                      <span class="fa fa-link"></span>
                      {{::links.length}}
                      <ng-pluralize count="::links.length" when="{'one': 'link', 'other': 'links'}"></ng-pluralize>
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li ng-repeat="link in ::links">
                        <a href="{{::link.url}}" target="_blank">{{::link.desc}}</a></li>
                    </ul>
                  </div>

                  <div class="btn-group" ng-if="::downloads.length > 0">
                    <button type="button" class="btn btn-success dropdown-toggle btn-xs" data-toggle="dropdown">
                      <span class="fa fa-download"></span>
                      {{::downloads.length}}
                      <ng-pluralize count="::downloads.length" when="{'one': 'download', 'other': 'downloads'}">
                      </ng-pluralize>
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li ng-repeat="link in ::downloads">
                        <a href="{{::link.url}}" download="{{::link.desc}}">
                          <span class="fa fa-file-zip-o"></span>
                          {{link.desc || (link.name + ' - ' + link.contentType) }} </a></li>
                    </ul>
                  </div>

                  <div class="pull-right" ng-if="::md.category.length > 0">
                    <i data-ng-repeat="cat in ::md.category" class="fa" data-ng-class="catIcons[cat]"
                      title="{{cat}}">&nbsp;</i>
                  </div>
                </div>
                <div class="gn-result-list-sp"></div>
              </div>

            </li>
          </ul>
        </div>
        <div data-ng-if="states.activeItem == 'Title'">
          <ul class="default-list-group gn-resultview">
            <li class="list-group-item" data-ng-repeat="md in searchResults.records" gn-displayextent-onhover=""
              gn-zoomto-onclick gn-fix-mdlinks="">
              <div class="gn-md-title">
                <input gn-selection-md type="checkbox" ng-model="md['geonet:info'].selected" ng-change="change()" />
                <h3>
                  <a href="" gn-metadata-open="md" gn-metadata-open-selector=".gn-resultview"
                    title="{{md.title || md.defaultTitle}}">
                    <span class="fa gn-icon-{{md.type[0]}}"></span>
                    {{md.title || md.defaultTitle}}</a>
                </h3>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div data-gn-map-field="searchObj.searchMap" data-gn-map-field-geom="searchObj.params.geometry"
    data-gn-map-field-opt="searchObj.mapfieldOption" class="gn-search-map">
  </div>
</div>